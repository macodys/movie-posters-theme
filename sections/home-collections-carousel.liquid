<section class="collections-carousel">
  <!-- Hot Collections Section -->
  <div class="carousel-section">
    <div class="section-header">
      <h2 class="section-title">Hot Collections</h2>
      <div class="section-actions">
        <a href="/collections/bestsellers" class="see-all-link">See all</a>
        <div class="carousel-controls">
          <button class="carousel-btn prev" data-target="hot-collections">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,18 9,12 15,6"></polyline>
            </svg>
          </button>
          <button class="carousel-btn next" data-target="hot-collections">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9,18 15,12 9,6"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </div>
    
    <div class="carousel-container" id="hot-collections">
      <div class="carousel-track">
        {% assign hot_products = collections.bestsellers.products %}
        {% if hot_products.size == 0 %}
          {% assign hot_products = collections.all.products %}
        {% endif %}
        {% if hot_products.size == 0 %}
          {% assign hot_products = collections.products %}
        {% endif %}
        {% for product in hot_products limit: 10 %}
          <div class="poster-card">
            <a href="{{ product.url }}" class="poster-link">
              <div class="poster-image">
                {% if product.featured_image %}
                  <img src="{{ product.featured_image | image_url: width: 400 }}" alt="{{ product.title }}" loading="lazy">
                {% else %}
                  <div class="placeholder-image">{{ product.title | truncate: 15 }}</div>
                {% endif %}
                <div class="poster-overlay">
                  <h3>{{ product.title | truncate: 30 }}</h3>
                  <div class="poster-price">{{ product.price | money }}</div>
                </div>
              </div>
            </a>
          </div>
        {% else %}
          <!-- Fallback if no products -->
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">Sample Movie 1</div>
              <div class="poster-overlay">
                <h3>Sample Movie 1</h3>
                <div class="poster-price">$29.99</div>
              </div>
            </div>
          </div>
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">Sample Movie 2</div>
              <div class="poster-overlay">
                <h3>Sample Movie 2</h3>
                <div class="poster-price">$24.99</div>
              </div>
            </div>
          </div>
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">Sample Movie 3</div>
              <div class="poster-overlay">
                <h3>Sample Movie 3</h3>
                <div class="poster-price">$19.99</div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- New Collections Section -->
  <div class="carousel-section">
    <div class="section-header">
      <h2 class="section-title">New</h2>
      <div class="section-actions">
        <a href="/collections/new" class="see-all-link">See all</a>
        <div class="carousel-controls">
          <button class="carousel-btn prev" data-target="new-collections">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,18 9,12 15,6"></polyline>
            </svg>
          </button>
          <button class="carousel-btn next" data-target="new-collections">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9,18 15,12 9,6"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </div>
    
    <div class="carousel-container" id="new-collections">
      <div class="carousel-track">
        {% assign new_products = collections.new.products %}
        {% if new_products.size == 0 %}
          {% assign new_products = collections.all.products %}
        {% endif %}
        {% if new_products.size == 0 %}
          {% assign new_products = collections.products %}
        {% endif %}
        {% for product in new_products limit: 10 %}
          <div class="poster-card">
            <a href="{{ product.url }}" class="poster-link">
              <div class="poster-image">
                {% if product.featured_image %}
                  <img src="{{ product.featured_image | image_url: width: 400 }}" alt="{{ product.title }}" loading="lazy">
                {% else %}
                  <div class="placeholder-image">{{ product.title | truncate: 15 }}</div>
                {% endif %}
                <div class="poster-overlay">
                  <h3>{{ product.title | truncate: 30 }}</h3>
                  <div class="poster-price">{{ product.price | money }}</div>
                </div>
              </div>
            </a>
          </div>
        {% else %}
          <!-- Fallback if no products -->
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">New Movie 1</div>
              <div class="poster-overlay">
                <h3>New Movie 1</h3>
                <div class="poster-price">$34.99</div>
              </div>
            </div>
          </div>
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">New Movie 2</div>
              <div class="poster-overlay">
                <h3>New Movie 2</h3>
                <div class="poster-price">$27.99</div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <!-- Trending Collections Section -->
  <div class="carousel-section">
    <div class="section-header">
      <h2 class="section-title">Trending</h2>
      <div class="section-actions">
        <a href="/collections/trending" class="see-all-link">See all</a>
        <div class="carousel-controls">
          <button class="carousel-btn prev" data-target="trending-collections">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="15,18 9,12 15,6"></polyline>
            </svg>
          </button>
          <button class="carousel-btn next" data-target="trending-collections">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="9,18 15,12 9,6"></polyline>
            </svg>
          </button>
        </div>
      </div>
    </div>
    
    <div class="carousel-container" id="trending-collections">
      <div class="carousel-track">
        {% assign trending_products = collections.all.products %}
        {% if trending_products.size == 0 %}
          {% assign trending_products = collections.products %}
        {% endif %}
        {% for product in trending_products limit: 10 %}
          <div class="poster-card">
            <a href="{{ product.url }}" class="poster-link">
              <div class="poster-image">
                {% if product.featured_image %}
                  <img src="{{ product.featured_image | image_url: width: 400 }}" alt="{{ product.title }}" loading="lazy">
                {% else %}
                  <div class="placeholder-image">{{ product.title | truncate: 15 }}</div>
                {% endif %}
                <div class="poster-overlay">
                  <h3>{{ product.title | truncate: 30 }}</h3>
                  <div class="poster-price">{{ product.price | money }}</div>
                </div>
              </div>
            </a>
          </div>
        {% else %}
          <!-- Fallback if no products -->
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">Trending 1</div>
              <div class="poster-overlay">
                <h3>Trending Movie 1</h3>
                <div class="poster-price">$39.99</div>
              </div>
            </div>
          </div>
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">Trending 2</div>
              <div class="poster-overlay">
                <h3>Trending Movie 2</h3>
                <div class="poster-price">$32.99</div>
              </div>
            </div>
          </div>
          <div class="poster-card">
            <div class="poster-image">
              <div class="placeholder-image">Trending 3</div>
              <div class="poster-overlay">
                <h3>Trending Movie 3</h3>
                <div class="poster-price">$29.99</div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Collections Carousel",
  "settings": [],
  "presets": [{"name": "Collections Carousel"}]
}
{% endschema %}
